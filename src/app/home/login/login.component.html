<div class="bodyLogin">
    <mat-toolbar color="primary" class="toolbar" >
      <nav class="toolbar__menu">
        <ul class="menu-bar">
          <li>

              <button mat-icon-button class="toolbar__menu__icon favorite-icon" aria-label="Home option">
                <mat-icon>home</mat-icon>
              </button>
              <a href="#" routerLink="/home" routerLinkActive="active" class="toolbar__menu__text">
                <span >Home</span>
              </a>

          </li>
          <li>
            <button mat-icon-button class="toolbar__menu__icon" aria-label="Board option">
              <mat-icon>note</mat-icon>
            </button>
            <a href="#" routerLink="/board" routerLinkActive="active" class="toolbar__menu__text"><span>
              Tablero</span>
            </a>
          </li>
          <li>
            <button mat-icon-button class="toolbar__menu__icon favorite-icon" aria-label="Crud option">
              <mat-icon>account_circle</mat-icon>
            </button>
            <a href="#" routerLink="/crud" routerLinkActive="active" class="toolbar__menu__text">
              <span >CRUD</span>
            </a>
          </li>
        </ul>
      </nav>
    </mat-toolbar>


  <div class="login">
    <img src="../../../assets/candado.png" style="width: 50%;">
    <h1>Login</h1>

    <form  novalidate [formGroup]="form" (ngSubmit)="ingresar()">
      <div class="inputsDiv">

            <div class="inputSpan">
              <p>
              <span class="neon">
              <input #user (focus)="activateFields()" required formControlName="user" type="text"
              placeholder="Usuario"
              onfocus="this.placeholder=''"
              onblur="this.placeholder='Ingrese Usuario'">
              </span>
            </p>
              <div class="validationDiv">
                <label  *ngIf="this.form.get('user')?.errors?.['required']">
                  Imgrese Usuario
                </label>
                <ng-container *ngIf="this.form.get('user')?.errors?.['minlength']; then loggedIn; else loggedOut">
                </ng-container>
                <ng-template #loggedIn>
                    <label >
                      Debe tener como mínimo 6 caracteres
                    </label>
                </ng-template>
                <ng-template #loggedOut>
                  <div>
                    Please friend, login.
                  </div>
                </ng-template>

                <ng-template #elseBlock>Content to render when condition is false.</ng-template>
              </div>
            </div>
            <div class="inputSpan">
              <p>
              <span class="neon">
            <input #inputComponent (keyup)="activateFields()"   required formControlName="password"
            matInput [type]="hide ? 'password' : 'text'"
            placeholder="Ingrese Contraseña"
            onfocus="this.placeholder=''"
            onblur="this.placeholder='Ingrese Contraseña'" type="password" autocomplete="on"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Debe contener al menos un número y una letra mayúscula y minúscula, y al menos
            menos 8 o más caracteres">

            <a mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </a>
              </span>
            </p>
              <div #passwordValidation [hidden]="inputComponent.value.length == 0"
                [ngClass]="updateNameClasses(inputComponent.value)"
              >
                <h3>Password must contain the following:</h3>
                <span #length class="notValid"><b>Debe tener</b> al menos 6 caracteres</span>
                <span #letter class="notValid"><b>Debe tener</b> letra minuscula</span>
                <span #capital class="notValid"><b>Debe tener </b>letra mayuscula</span>
                <span #number3 class="notValid"><b>Debe tener</b> un numero</span>

                <label class="text-danger" *ngIf="this.form.get('password')?.errors?.['required']">
                  Ingrese contraseña de 6 dígitos
                </label>
                <label *ngIf="this.form.get('password')?.errors?.['minlength']">
                  Invalida
                  <br>
                  Debe tener como mínimo 6 caracteres
                </label>

              </div>
            </div>
      </div>
      <div class="buttonsLogin">
        <button type="submit"  [disabled]="form.invalid" style="--clr:#03C4A1" ><span>Iniciar Sesión</span><i></i></button>
        <button type="button" style="--clr:#03C4A1" ><span>Registrarse</span><i></i></button>
      </div>
      <p>
        Real-time data: {{ form.value | json }}
      </p>
      <p>
        Your form status is : {{ form.status }}
      </p>
    </form>
  </div>
</div>
