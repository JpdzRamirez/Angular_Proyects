<div class="bodyLogin">
  <div class="login">
    <img src="../../../assets/candado.png" style="width: 50%;">
    <h1>Login</h1>

    <form novalidate [formGroup]="form" (ngSubmit)="ingresar()">
      <div class="inputsDiv">

            <div class="inputSpan">
              <p>
              <span class="neon">
              <input #user (focus)="activateFields()" required formControlName="user" type="text"
              placeholder="Usuario"
              onfocus="this.placeholder=''"
              onblur="this.placeholder='Ingrese Usuario'">
              </span>
            </p>
              <div class="validationDiv">
                <label  *ngIf="this.form.get('user')?.errors?.['required']">
                  Imgrese Usuario
                </label>
                <ng-container *ngIf="this.form.get('user')?.errors?.['minlength']; then loggedIn; else loggedOut">
                </ng-container>
                <ng-template #loggedIn>
                    <label >
                      Debe tener como mínimo 6 caracteres
                    </label>
                </ng-template>
                <ng-template #loggedOut>
                  <div>
                    Please friend, login.
                  </div>
                </ng-template>

                <ng-template #elseBlock>Content to render when condition is false.</ng-template>
              </div>
            </div>
            <div class="inputSpan">
              <p>
              <span class="neon">
            <input  (keyup)="activateFields()"   required formControlName="password"
            matInput [type]="hide ? 'password' : 'text'"
            placeholder="Ingrese Contraseña"
            onfocus="this.placeholder=''"
            onblur="this.placeholder='Ingrese Contraseña'" type="password" autocomplete="on"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Debe contener al menos un número y una letra mayúscula y minúscula, y al menos
            menos 8 o más caracteres">

            <a mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </a>
              </span>
            </p>
              <div #passwordValidation class="validationDiv"  hidden>
                <h3>Password must contain the following:</h3>
                <p id="letter" class="wrong">A <b>lowercase</b> letter</p>
                <p id="capital" class="wrong">A <b>capital (uppercase)</b>letter</p>
                <p id="number" class="wrong">A <b>number</b></p>
                <label class="text-danger" *ngIf="this.form.get('password')?.errors?.['required']">
                  Ingrese contraseña de 6 dígitos
                </label>
                <label *ngIf="this.form.get('password')?.errors?.['minlength']">
                  Invalida
                  <br>
                  Debe tener como mínimo 6 caracteres
                </label>

              </div>
            </div>
      </div>
      <div class="buttonsLogin">
        <button type="submit"  [disabled]="form.invalid" style="--clr:#03C4A1" ><span>Iniciar Sesión</span><i></i></button>
        <button type="button" style="--clr:#03C4A1" ><span>Registrarse</span><i></i></button>
      </div>
      <p>
        Real-time data: {{ form.value | json }}
      </p>
      <p>
        Your form status is : {{ form.status }}
      </p>
    </form>
  </div>
</div>
